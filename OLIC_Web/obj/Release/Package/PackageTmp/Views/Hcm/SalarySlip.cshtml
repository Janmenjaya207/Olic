@{
    ViewBag.Title = "SalarySlip";
    Layout = "~/Views/Shared/_CommonLayout.cshtml";
}

<style>
    .salary-slip {
        margin: 15px 0px;
    }

    .empDetail {
        width: 100%;
        text-align: left;
        border: 1px solid #000638;
        border-collapse: collapse;
        table-layout: fixed;
    }

    .head {
        margin: 10px;
        margin-bottom: 50px;
        width: 100%;
    }

    .companyName {
        text-align: right;
        font-size: 18px;
        font-weight: 500;
        color: white;
        padding-right: 8px;
    }

    .salaryMonth {
        text-align: center;
    }

    .table-border-bottom {
        border-bottom: 1px solid;
    }

    .table-border-right {
        border-right: 1px solid;
    }

    .myBackground {
        padding-top: 10px;
        text-align: left;
        border: 1px solid black;
        height: 40px;
    }

    .myAlign {
        text-align: center;
        border-right: 1px solid black;
    }

    .myTotalBackground {
        padding-top: 10px;
        text-align: left;
        background-color: #EBF1DE;
        border-spacing: 0px;
    }

    .align-4 {
        width: 25%;
        float: left;
    }

    .tail {
        margin-top: 35px;
    }

    .align-2 {
        margin-top: 25px;
        width: 50%;
        float: left;
    }

    .border-center {
        text-align: center;
    }

        .border-center th, .border-center td {
            border: 1px solid black;
        }

    th, td {
        padding-left: 6px;
    }
</style>

<main id="main">
    <div class="page-content">
        <div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
            <div class="ps-3">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb mb-0 p-0">
                        <li class="breadcrumb-item">
                            <a href="/Hcm/Dashboard"><i class="bx bx-home-alt"></i></a>
                        </li>
                        <li class="breadcrumb-item active" aria-current="page">Salary Slip</li>
                    </ol>
                </nav>
            </div>
        </div>
        <form action="/Hcm/SalarySlip" method="post">
            <div class="row">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-body">
                            <h6>Serach Salary Slip:</h6>
                            <div class="row">
                                <div class="col-md-3">
                                    <label class="control-label">Month:</label>
                                    <select class="col-sm-8 form-select custom-select mt-2" id="month" name="month">
                                        @*<option value="0">Select</option>*@
                                        <option value="1">January </option>
                                        <option value="2">February</option>
                                        <option value="3">March</option>
                                        <option value="4">April</option>
                                        <option value="5">May</option>
                                        <option value="6">June</option>
                                        <option value="7">July</option>
                                        <option value="8">August</option>
                                        <option value="9">September</option>
                                        <option value="10">October</option>
                                        <option value="11">November</option>
                                        <option value="12">December</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label class="control-label">Year:</label>
                                    <select class="col-sm-8 form-select custom-select mt-2" id="date-dropdown" name="year"></select>
                                </div>
                                <div class="col-md-1 mt-4" style="text-align:right">
                                    <button type="submit" id="button" class="btn btn-primary float-right" data-toggle="button">Search</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </form>
        @if (ViewBag.name != null)
        {
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Salary Slip Period: <a><b>November 2022</b></a></h6>
                        </div>
                        <div class="col-md-6">
                            <div style="text-align:right;">
                                @*<input type='button' id='btn' value='Print' onclick='printDiv();'>*@
                                <button class="btn btn-primary" id='btnnnn'>Print</button>
                                <button class="btn btn-primary">Download</button>
                                @*<button class="btn btn-primary">Email Statement</button>*@
                            </div>
                        </div>
                    </div>
                    <div class="salary-slip">
                        <table class="empDetail" id="example7">
                            <tr height="70px" style='background: linear-gradient(90deg, rgb(18 107 130) 0%, rgb(30 63 188) 100%);'>
                                <td colspan='4'>
                                    <img height="60px" src='/Animation/assets/images/logo-icon.png' />
                                </td>
                                <td colspan='4' class="companyName"> Odisha Lift Irrigation Corporation Limited</td>
                            </tr>
                            <tr>
                                <th>
                                    Name
                                </th>
                                <td>
                                    @ViewBag.name
                                </td>
                                <td></td>
                                <th>
                                    Bank Name
                                </th>
                                <td>
                                    @ViewBag.Bank
                                </td>
                                <td></td>
                                <th>
                                    PF No.
                                </th>
                                <td>
                                    @ViewBag.PfNo
                                </td>
                            </tr>
                            <tr>
                                <th>
                                    Employee Code
                                </th>
                                <td>
                                    @ViewBag.empcode
                                </td>
                                <td></td>
                                <th>
                                    Bank A/C No.
                                </th>
                                <td>
                                    @ViewBag.AccNo
                                </td>
                                <td></td>
                                <th>
                                    UAN
                                </th>
                                <td>
                                    @ViewBag.Uan
                                </td>
                            </tr>
                            <tr>
                                <th>
                                    Designation
                                </th>
                                <td>
                                    @ViewBag.Desg
                                </td>
                                <td></td>
                                <th>
                                    Bank IFSC
                                </th>
                                <td>
                                    @ViewBag.ifsc
                                </td>
                                <td></td>
                                <th>
                                    PAN No.
                                </th>
                                <td>
                                    @ViewBag.Pan
                                </td>
                            </tr>
                            <tr>
                                <th>
                                    Date of Joining
                                </th>
                                <td>
                                    @ViewBag.Doj
                                </td>
                                <td></td>
                                <th>
                                    Bill No.
                                </th>
                                <td>
                                    @ViewBag.BillNo
                                </td>
                                <td></td>
                                <th>
                                    GIS No.
                                </th>
                                <td>
                                    @ViewBag.PfNo
                                </td>
                            </tr>
                            
                            <tr class="myBackground">
                                <th colspan="2">
                                    Earnings
                                </th>
                                <th>

                                </th>
                                <th class="myAlign">
                                    Amount (Rs.)
                                </th>
                                <th colspan="2">
                                    Deductions
                                </th>
                                <th>

                                </th>
                                <th class="myAlign">
                                    Amount (Rs.)
                                </th>
                            </tr>
                            <tr>
                                <th colspan="2">
                                    Basic Pay
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.basicPay.00
                                </td>
                                <th colspan="2">
                                    General Provident Fund
                                </th>
                                <td></td>

                                <td class="myAlign">
                                    @ViewBag.gpf.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                    Dearness Allowance
                                </th>
                                <td></td>

                                <td class="myAlign">
                                    @ViewBag.dearnessAllowance.00
                                </td>
                                <th colspan="2">
                                    Employees' Provident Fund
                                </th>
                                <td></td>

                                <td class="myAlign">
                                    @ViewBag.epf.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                    House Rent Allowance
                                </th>
                                <td></td>

                                <td class="myAlign">
                                    @ViewBag.hra.00
                                </td>
                                <th colspan="2">
                                    Advance Provident Fund
                                </th>
                                <td></td>

                                <td class="myAlign">
                                    @ViewBag.advancePf.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                    Grade Pay
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.gradePay.00
                                </td>
                                <th colspan="2">
                                    Professional Tax (PT)
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.pTax.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                    Special Pay
                                </th>
                                <td></td>

                                <td class="myAlign">
                                    @ViewBag.specialPay.00
                                </td>
                                <th colspan="2">
                                    Income Tax (IT)
                                </th>
                                <td></td>

                                <td class="myAlign">
                                    @ViewBag.incomeTax.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                    Odia Allowance
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.odiaAllowance.00
                                </td>
                                <th colspan="2">
                                    Quarter Rent
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.quaterRent.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                    Washing Allowance
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.washingAllowance.00
                                </td>
                                <th colspan="2">
                                    Vehicle Charges
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.vehicleCharges.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                    Motorcycle Allowance
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.motercycleAllowance.00
                                </td>
                                <th colspan="2">
                                    Festival Advance
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.festivalAdvance.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                    Medical Allowance
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.medicalAllowance.00
                                </td>
                                <th colspan="2">
                                    Medical Advance
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.medicalAdvance.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                    Incentive Allowance
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.incentiveAllowance.00
                                </td>
                                <th colspan="2">
                                    Moped Loan
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.mopedLoan.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                    Conveyance Allowance
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.conveyanceAllowance.00
                                </td>
                                <th colspan="2">
                                    Motorcycle Loan
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.motercycleLoan.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                </th>
                                <td></td>
                                <td class="myAlign"></td>
                                <th colspan="2">
                                    Car Loan
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.carLoan.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                </th>
                                <td></td>
                                <td class="myAlign"></td>
                                <th colspan="2">
                                    House Building Loan
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.houseBuildingLoan.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                </th>
                                <td></td>
                                <td class="myAlign"></td>
                                <th colspan="2">
                                    Land Loan
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.landLoan.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                </th>
                                <td></td>
                                <td class="myAlign"></td>
                                <th colspan="2">
                                    Other Loan
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.otherLoan.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                </th>
                                <td></td>
                                <td class="myAlign"></td>
                                <th colspan="2">
                                    Tour Advance
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.tourAdvance.00
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                </th>
                                <td></td>
                                <td class="myAlign"></td>
                                <th colspan="2">
                                    GIS Advance
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.gisAdvance.00
                                </td>
                            </tr>


                            <tr class="myBackground">
                                <th colspan="3">
                                    Gross Earning
                                </th>
                                <td class="myAlign">
                                    @ViewBag.grossEarrning.00
                                </td>
                                <th colspan="3">
                                    Gross Deductions
                                </th>
                                <td class="myAlign">
                                    @ViewBag.grossDeduction.00
                                </td>
                            </tr>
                            <tr height="40px">
                                <th colspan="2">
                                </th>
                                <th>
                                </th>
                                <td class="table-border-right"></td>
                                <th colspan="2" class="table-border-bottom">
                                    Net Pay
                                </th>
                                <td></td>
                                <td class="myAlign">
                                    @ViewBag.netPay.00
                                </td>
                            </tr>



                        </table>

                    </div>

                    <p style="text-align:center;">This is a machine generated pay slip and doesn’t require sign.</p>
                </div>

            </div>
        }
    </div>
</main>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
    let dateDropdown = document.getElementById('date-dropdown');

    let currentYear = new Date().getFullYear();
    let earliestYear = 1970;
    while (currentYear >= earliestYear) {
        let dateOption = document.createElement('option');
        dateOption.text = currentYear;
        dateOption.value = currentYear;
        dateDropdown.add(dateOption);
        currentYear -= 1;
    }


    $(document).ready(function () {
        var d = new Date();
        var month = d.getMonth(); //+ 1 ;
        //var year = d.getFullYear();

        $("#month").val(month);
        //$("#year").val(year);

    });

    $('#btnnnn').on('click', function () {
        var printed = $(this).closest('tr').html();
        newWin = window.open("");
        newWin.document.write(printed);
        newWin.print();
        newWin.close();
    })

</script>

